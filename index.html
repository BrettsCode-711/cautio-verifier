<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cautio Verifier | Public Trust Layer</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #f4f6f8; color: #333; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); width: 400px; text-align: center; }
        .drop-zone { border: 2px dashed #ccc; padding: 2rem; border-radius: 8px; margin: 1rem 0; transition: all 0.2s; cursor: pointer; }
        .drop-zone:hover { border-color: #007bff; background: #f0f7ff; }
        .status { margin-top: 1rem; font-weight: bold; font-size: 1.2rem; }
        .valid { color: #28a745; }
        .invalid { color: #dc3545; }
        code { background: #eee; padding: 2px 5px; border-radius: 4px; font-size: 0.9em; }
    </style>
</head>
<body>
    <div class="container">
        <h2>üîí Cautio Verifier</h2>
        <p>Drop a <code>.proof.json</code> file below to verify integrity offline.</p>
        
        <div class="drop-zone" id="dropZone">
            üìÇ Drag & Drop Proof Here
        </div>

        <div id="result" class="status"></div>
    </div>

    <script>
        const dropZone = document.getElementById('dropZone');
        const result = document.getElementById('result');

        // Allow drag & drop
        dropZone.addEventListener('dragover', (e) => { e.preventDefault(); dropZone.style.borderColor = '#007bff'; });
        dropZone.addEventListener('dragleave', (e) => { e.preventDefault(); dropZone.style.borderColor = '#ccc'; });
        
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = '#ccc';
            const file = e.dataTransfer.files[0];
            if (file) verifyProof(file);
        });

        // Click to browse
        dropZone.addEventListener('click', () => {
            const input = document.createElement('input');
            input.type = 'file';
            input.onchange = (e) => verifyProof(e.target.files[0]);
            input.click();
        });

        async function verifyProof(file) {
            result.textContent = "Verifying...";
            result.className = "status";
            
            try {
                const text = await file.text();
                const proof = JSON.parse(text);

                // Basic validation check
                if (!proof.root || !proof.proof) throw new Error("Invalid Proof Format");

                // In production, we would run the SHA-256 math here.
                // For now, we confirm the file structure is correct.
                
                result.textContent = "‚úÖ VALID PROOF STRUCTURE";
                result.className = "status valid";
            } catch (err) {
                result.textContent = "‚ùå INVALID: " + err.message;
                result.className = "status invalid";
            }
        }
    </script>
</body>
</html>
